% ==============================================================================
%
% [ PROJ ] ASHE presentation
% [ FILE ] slides.tex
% [ AUTH ] Benjamin Skinner, Olivia Morales, William Doyle
% [ INIT ] 31 October 2022
%
% ==============================================================================

% --------------------------------------
% document settings
% --------------------------------------

% document class
\documentclass[aspectratio=169, t, 10pt]{beamer}

% packages
\usepackage[utf8]{inputenc}
\usepackage{fontspec}
\usepackage{datetime}
\usepackage{tikz}
\usepackage{forest}
\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{caption}
\usepackage{graphicx}
\usepackage[natbibapa]{apacite}
\usepackage{url}
\usepackage{amstext}
\usepackage[justification=raggedright]{caption}
\usepackage[flushleft]{threeparttable}
\usepackage{pgf}
\usepackage{mathtools}
\usepackage{multicol}
\usepackage{xcolor}
\usepackage[fixed]{fontawesome5}
\usepackage[first=1, last=100]{lcg}
\usepackage{xifthen}
\usepackage{ulem}
\usepackage{longtable}
\usepackage{multicol}
<<<<<<< HEAD
=======
\usepackage{amsmath}
>>>>>>> bs_dev

% tikz settings
\usetikzlibrary{positioning,
  shapes.multipart,
  calc,
  decorations.pathreplacing,
  decorations.text,
  calligraphy,
  arrows}

% --------------------------------------
% external inputs
% --------------------------------------

\input{./beamer_settings.tex}

% --------------------------------------
% repeated text
% --------------------------------------

\newcommand{\fignote}[1]{\caption*{\tiny {\bfseries Note.} #1}}

<<<<<<< HEAD
=======
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}

>>>>>>> bs_dev
% --------------------------------------
% begin document
% --------------------------------------

\begin{document}

% ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
% title slide
% ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

\title{\LARGE Employing Machine-Learning Approaches \\ to Predict Incomes 
of Recent College Graduates} 
\date{16 November 2022 \\
Association for the Study of Higher Education Annual Conference | Las Vegas, NV}
\author{%
  \begin{tabular}{ccc}
    {\Large Benjamin T. Skinner}
    & {\Large Olivia N. Morales}
    & {\Large William R. Doyle} \\
    University of Florida & University of Florida & Vanderbilt University \\
    \href{\twr\twrbs}{\textcolor{tw_blue}{\faTwitter}\hs\twrbs} &
    \href{\twr\twrom}{\textcolor{tw_blue}{\faTwitter}\hs\twrom} &
<<<<<<< HEAD
    \href{\twr\twrwd}{\textcolor{tw_blue}{\faTwitter}\hs\twrwd}  & \\
=======
    \href{\twr\twrwd}{\textcolor{tw_blue}{\faTwitter}\hs\twrwd} \\
>>>>>>> bs_dev
  \end{tabular}
}

\institute{\includegraphics[width = .5\textwidth]{\primarylogo}}

{
  \bg{uf_coe_1}
  \begin{frame}
    \titlepage
  \end{frame}
}

% ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
% SLIDES
% ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

% Introduction
\begin{frame}
<<<<<<< HEAD
  \frametitle{The Prediction Business for Returns to Higher Education}
=======
  \frametitle{The prediction business for returns to higher education}
>>>>>>> bs_dev
  \begin{block}{What we know}
    \begin{itemize}
    	\item Wealth of scholarship to support economic returns from
          higher education
          \citep{card:1995, Card:1999, Card:2001, doyle2016educearn, Oreopoulous_Petronijevic_2013}
    	\item Prior analyses limited by access to institution-level data not widely available 
   	 \begin{itemize}
    		\item The publication of the College Scorecard (2015) changed the higher education \\
		research landscape, with national institutional-level
                data now publicly accessible
                \citep{obama_2013}
   	 \end{itemize}
    \end{itemize}
  \end{block}
  \begin{block}{Examining existing research}
    \begin{itemize}
    \item Standard econometric approaches to estimating earnings \\
    are vulnerable to researcher bias and produce less accurate predictions
    \item Machine learning methods provide a more useful alternative (predictions \\
    made algorithmically, based on features of the data)
    \end{itemize}
  \end{block}
\end{frame}

% Our focus/guiding questions
\begin{frame}
<<<<<<< HEAD
  \frametitle{Our focus \& guiding research questions}
=======
  \frametitle{Our focus and guiding research questions}
>>>>>>> bs_dev
  \begin{block}{Project focus}
    \centering
    \includegraphics[scale = 0.2]{\imgdir/project_flow.jpg}
  \end{block}
  \begin{block}{Research questions}
    \begin{enumerate}
        \item What institutional\slash program level variables are most
          predictive of median first-year earnings?
        \item What are the patterns of association (positive\slash negative)
          for these variables?
    \end{enumerate}
   \end{block}
\end{frame}

% Data
\begin{frame}
  \frametitle{Data}
    \begin{block}{College Scorecard}
      \begin{itemize}
      \item 2019-2020 
      \item Includes over 2,000 variables for 6,700 accredited higher
        education institutions (HEIs) in the U.S.
      \item Significant portions of the data are privacy suppressed
      \end{itemize}
    \end{block}
  \begin{block}{American Community Survey (ACS)}
    \begin{itemize}
    \item 2015-2019
    \item Geography of interest: County level (using FIPS)
    \item Matching HEIs with unique county FIPS codes
    \item Helps recover information lost from missing data in the Scorecard
    \end{itemize}
  \end{block}
\end{frame}

% Tidymodels explanation
\begin{frame}
  \frametitle{Data preprocessing and model building with Tidymodels}
  \begin{block}{Tidymodels as a framework}
    \begin{itemize}
    \item Proposed by \citet{Kuhn_Silge_2022}, Tidymodels provides a
      succinct framework for preprocessing data to eventually use in
      fitting successive models and delineating overall workflow
     \end{itemize}
   \end{block}
   \begin{block}{}
     \vspace{-.75cm}%adapt
     \centering
        \includegraphics[scale = 0.4]{\imgdir/tidymodels_example.png}
   \end{block}   
\end{frame}

% Methodology
\begin{frame}
  \frametitle{Prediction via regression-based machine learning methods}
  \begin{block}{Elastic net regularization}\citep{zouhastie_2005}
    \begin{itemize}
    \item Combines LASSO/ridge regression penalties to mitigate issues
      of bias and variance introduction in your statistical model
<<<<<<< HEAD
    \item Helpful in producing more parsimonious models (removes
      irrelevant predictors)
    \end{itemize}
  \end{block}
  \begin{block}{Random forests}
    \begin{itemize}
      \item Ensemble machine learning method particularly popular in
        gauging variable importance in a regression model
      \item Randomly samples covariates in a regression model, splits
        observations on covariates to maximize reduction of RMSE 
      \item Model builds successive trees to eventually including all
        covariates in the model, averaging over all trees to determine
        variable importance (reduction in RMSE)
      \end{itemize}
   \end{block}
\end{frame}
      
      
% Random forest: A visualization
\begin{frame}
  \frametitle{Random forest: A visualization}\citep{koehrsen_2018}
    \centering
        \includegraphics[width=.5\linewidth]{\imgdir/rf_viz.png}
 \end{frame}
=======
    \item Helpful in producing more parsimonious models
      \begin{itemize}
      \item removes irrelevant predictors
      \item shrinks correlated predictors
      \end{itemize}
    \end{itemize}
  \end{block}
  \begin{block}{}
    \begin{equation}
      \argmin_{\beta} = \underbrace{\frac{1}{n}\sum (y_i - \beta_1 x_i
        + \beta_0)^2}_{OLS} + \underbrace{\alpha\lambda_1\sum
      |\beta_j|}_{LASSO} + \underbrace{\frac{1-\alpha}{2}\lambda_2\sum \beta_j^2}_{Ridge} \nonumber
    \end{equation}
  \end{block}
\end{frame}
      
% Random forest: A visualization
\begin{frame}
  \frametitle{Random forest: a visualization}
  \framesubtitle{\citep{koehrsen_2018}}
  \begin{columns}[T]
    \begin{column}{.5\linewidth}
      \begin{block}{Random forests}
        \begin{itemize}
        \item Ensemble machine learning method particularly popular in
          gauging variable importance in a regression model
        \item Randomly samples covariates in a regression model, splits
          observations on covariates to maximize reduction of RMSE 
        \item Model builds successive trees to eventually including all
          covariates in the model, averaging over all trees to determine
          variable importance (reduction in RMSE)
        \end{itemize}
      \end{block}
    \end{column}
    \begin{column}{.5\linewidth}
      \includegraphics[width=.9\linewidth]{\imgdir/rf_viz.png}
    \end{column}
  \end{columns}
\end{frame}
>>>>>>> bs_dev

% Findings I
\begin{frame}
  \frametitle{Elastic net regularization}
    \centering
<<<<<<< HEAD
        \includegraphics[width=.5\linewidth]{\imgdir/enet_fig.png}
=======
        \includegraphics[width = .9\linewidth]{\imgdir/enet_fig.png}
>>>>>>> bs_dev
 \end{frame}

% Findings II
\begin{frame}
<<<<<<< HEAD
  \frametitle{Random forest model: Variable importance}
    \centering
        \includegraphics[scale = 0.35]{\imgdir/rf_vi.png}
=======
  \frametitle{Random forest model: variable importance}
    \centering
        \includegraphics[width = .9\linewidth]{\imgdir/rf_vi.png}
>>>>>>> bs_dev
 \end{frame}

% Takeaways/Conclusions
\begin{frame}
  \frametitle{Discussion}
  \begin{block}{Elastic net model}
    \begin{itemize}
    \item Expected predictors 
      \begin{itemize}
         \item Level of credential, certificate/diploma (negative)
<<<<<<< HEAD
         \item Level of institution, 4-year (positive)
=======
         \item Level of institution, 2-year (positive)
>>>>>>> bs_dev
      \end{itemize}
    \item Unexpected predictors
       \begin{itemize}
         \item Total outstanding federal direct loan balance (positive)
         \item Undergraduate federal student loan dollar-based 1-year
           repayment rate borrower count (negative)
      \end{itemize}    
    \end{itemize}
  \end{block}
  \begin{block}{Random forest model}
    \begin{itemize}
    \item Variable importance
      \begin{itemize}
        \item Level of credential (Undergraduate certificate or
<<<<<<< HEAD
          diploma /& Bachelor's degree)
=======
          diploma \& Bachelor's degree)
>>>>>>> bs_dev
        \item Median family income
        \item Average family income for independent students
       \end{itemize}
    \end{itemize}
<<<<<<< HEAD
   \end{block}    
=======
   \end{block} 
>>>>>>> bs_dev
\end{frame}
 
% ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
% THANK YOU
% ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

{
  \bg{uf_coe_6}
  \begin{frame}
    \begin{center}
      \huge
      \vfill
      Thank You! \\
      \vfill
      % \large
      % Replication files \\
      \small
      % \begin{tabular}{l}
      %   \href{\git\gitrep}{\faCode\hs\git\gitrep} \\
      % \end{tabular}
      % \vfill
      \begin{tabular}{lll}
        {\Large Olivia N. Morales}  \\
        \href{\mt\mtom}{\faEnvelope\hs\mtom}\\
        \href{\twr\twrom}{\faTwitter\hs\twrom} \\
        \href{\git\gitom}{\faGithub\hs\gitom} \\
      \end{tabular}
      \vfill
      \includegraphics[width=.5\linewidth]{\primarylogo}
      \vfill
    \end{center}
  \end{frame}
}

% ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
% REFERENCES
% ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

\begin{frame}[allowframebreaks]
<<<<<<< HEAD
\frametitle{References}
\bibliographystyle{apacite}
\bibliography{\bibdir/csc_research.bib}
=======
  \frametitle{References}
  \tiny
  \bibliographystyle{apacite}
  \bibliography{\bibdir/csc_research.bib}
>>>>>>> bs_dev
\end{frame}

\end{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% End document
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

